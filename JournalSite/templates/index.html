{% extends "base.html" %}
{% import "macros.html" as macros with context %}

{% block body %}
<title>Entries</title>
{% if not current_user.is_anonymous %}
<div class="mb-3">
  <span class="spinner-border spinner-border-sm me-2" id="spinner" style="display:none"></span>
  {% if not filter_ %}{{ macros.entry_sort(class='d-inline') }}<br>{% endif %}
  <a class="btn-custom" href="{{ url_for('entries.create_entry') }}">+ New Entry</a>
</div>
{% if current_user.get_entries().count() > 0 %}
<div class="row">
  {% for i in current_user.get_entries(order_by=order_by, filter_=filter_) %}
  {{ macros.entry_card(i) }}
  {% endfor %}
</div>
{% else %}
<div class="p-custom text-center p-5 opacity-25">No Entries.</div>
{% endif %}
{% else %}
<div class="p-custom text-center p-5 opacity-25">
  <span>
    <a data-bs-toggle="modal" data-bs-target="#loginModal">Log In</a> or
    <a data-bs-toggle="modal" data-bs-target="#signupModal">Sign Up</a>
  </span>
</div>
{% endif %}
{% endblock %}